<?xml version="1.0" encoding="utf-8"?>
<Window
        x:Class="SocialNetworkApp.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Социальная сеть друзей">

    <Window.SystemBackdrop>
        <MicaBackdrop Kind="BaseAlt"/>
    </Window.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Title Bar Area -->
        <Grid x:Name="AppTitleBar" Grid.Row="0" Height="48" 
              Background="Transparent">
            <StackPanel Orientation="Horizontal" Margin="16,0,0,0" 
                       VerticalAlignment="Center">
                <FontIcon Glyph="&#xE716;" FontSize="16" 
                         Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                <TextBlock Text="Социальная сеть друзей" 
                          Margin="12,0,0,0" 
                          VerticalAlignment="Center"
                          Style="{StaticResource CaptionTextBlockStyle}"/>
            </StackPanel>
        </Grid>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1">
            <Grid Padding="24,16,24,24">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Add User Section -->
                <Expander Grid.Row="0" 
                         Header="Управление пользователями"
                         IsExpanded="True"
                         HorizontalAlignment="Stretch"
                         Margin="0,0,0,16">
                    <Expander.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE77B;" 
                                         FontSize="20"
                                         Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                                <TextBlock Text="{Binding}" 
                                          Style="{StaticResource BodyStrongTextBlockStyle}"/>
                            </StackPanel>
                        </DataTemplate>
                    </Expander.HeaderTemplate>

                    <StackPanel Spacing="12" Padding="0,12,0,0">
                        <TextBox x:Name="UserNameTextBox" 
                                PlaceholderText="Введите имя пользователя" 
                                Header="Имя пользователя"
                                MaxWidth="400"
                                HorizontalAlignment="Left"/>
                        <Button x:Name="AddUserButton" 
                               Content="Добавить пользователя"
                               Click="AddUserButton_Click"
                               Style="{StaticResource AccentButtonStyle}">
                            <Button.KeyboardAccelerators>
                                <KeyboardAccelerator Key="Enter"/>
                            </Button.KeyboardAccelerators>
                        </Button>
                    </StackPanel>
                </Expander>

                <!-- Add Friendship Section -->
                <Expander Grid.Row="1" 
                         Header="Создание связей"
                         IsExpanded="True"
                         HorizontalAlignment="Stretch"
                         Margin="0,0,0,16">
                    <Expander.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE8FA;" 
                                         FontSize="20"
                                         Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                                <TextBlock Text="{Binding}" 
                                          Style="{StaticResource BodyStrongTextBlockStyle}"/>
                            </StackPanel>
                        </DataTemplate>
                    </Expander.HeaderTemplate>

                    <Grid Padding="0,12,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" MaxWidth="200"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="*" MaxWidth="200"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="12"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBox x:Name="User1TextBox" 
                                Grid.Column="0" Grid.Row="0"
                                PlaceholderText="Первый пользователь" 
                                Header="Пользователь 1"/>

                        <TextBox x:Name="User2TextBox" 
                                Grid.Column="2" Grid.Row="0"
                                PlaceholderText="Второй пользователь" 
                                Header="Пользователь 2"/>

                        <Button x:Name="AddFriendshipButton" 
                               Grid.Column="0" Grid.Row="2"
                               Content="Создать дружбу"
                               Click="AddFriendshipButton_Click"
                               Style="{StaticResource AccentButtonStyle}"/>
                    </Grid>
                </Expander>

                <!-- Show Friends Section -->
                <Expander Grid.Row="2" 
                         Header="Просмотр друзей"
                         IsExpanded="True"
                         HorizontalAlignment="Stretch"
                         Margin="0,0,0,16">
                    <Expander.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE721;" 
                                         FontSize="20"
                                         Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                                <TextBlock Text="{Binding}" 
                                          Style="{StaticResource BodyStrongTextBlockStyle}"/>
                            </StackPanel>
                        </DataTemplate>
                    </Expander.HeaderTemplate>

                    <StackPanel Spacing="12" Padding="0,12,0,0">
                        <TextBox x:Name="SearchUserTextBox" 
                                PlaceholderText="Имя пользователя" 
                                Header="Поиск пользователя"
                                MaxWidth="400"
                                HorizontalAlignment="Left"/>
                        <Button x:Name="ShowFriendsButton" 
                               Content="Показать друзей"
                               Click="ShowFriendsButton_Click"/>
                    </StackPanel>
                </Expander>

                <!-- Common Friends Section -->
                <Expander Grid.Row="3" 
                         Header="Общие друзья"
                         IsExpanded="True"
                         HorizontalAlignment="Stretch"
                         Margin="0,0,0,16">
                    <Expander.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="12">
                                <FontIcon Glyph="&#xE779;" 
                                         FontSize="20"
                                         Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                                <TextBlock Text="{Binding}" 
                                          Style="{StaticResource BodyStrongTextBlockStyle}"/>
                            </StackPanel>
                        </DataTemplate>
                    </Expander.HeaderTemplate>

                    <Grid Padding="0,12,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" MaxWidth="200"/>
                            <ColumnDefinition Width="12"/>
                            <ColumnDefinition Width="*" MaxWidth="200"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="12"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBox x:Name="CommonUser1TextBox" 
                                Grid.Column="0" Grid.Row="0"
                                PlaceholderText="Первый пользователь" 
                                Header="Пользователь 1"/>

                        <TextBox x:Name="CommonUser2TextBox" 
                                Grid.Column="2" Grid.Row="0"
                                PlaceholderText="Второй пользователь" 
                                Header="Пользователь 2"/>

                        <Button x:Name="FindCommonButton" 
                               Grid.Column="0" Grid.Row="2"
                               Content="Найти общих друзей"
                               Click="FindCommonButton_Click"/>
                    </Grid>
                </Expander>

                <!-- Output Section -->
                <Border Grid.Row="4" 
                       CornerRadius="8"
                       Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                       BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                       BorderThickness="1"
                       Padding="16"
                       MinHeight="200">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <StackPanel Orientation="Horizontal" 
                                   Spacing="12" 
                                   Margin="0,0,0,12">
                            <FontIcon Glyph="&#xE8BC;" 
                                     FontSize="16"
                                     Foreground="{ThemeResource AccentFillColorDefaultBrush}"/>
                            <TextBlock Text="Журнал событий" 
                                      Style="{StaticResource BodyStrongTextBlockStyle}"/>
                        </StackPanel>

                        <ScrollViewer Grid.Row="1" 
                                     VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="OutputTextBlock" 
                                      TextWrapping="Wrap" 
                                      FontFamily="Cascadia Mono, Consolas"
                                      FontSize="13"
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </ScrollViewer>
                    </Grid>
                </Border>
            </Grid>
        </ScrollViewer>
    </Grid>
</Window>
